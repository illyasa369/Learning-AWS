# AWS Networking
### Virtual Private Cloud (VPC)
- A VPC is a private network within AWS.
- The size of a VPC is determined by the CIDR block.
- Only private IP ranges can be used for VPCs.
<br>

- AWS reserves the first 5 IP addresses in every subnet - this should be taken into account when choosing subnet size.
<br>

### Internet Gateway (IGW)
- Allows resources in a VPC to connect to the internet.
- Scales horizontally and is highly available and redundant.
- Can only be attached to a single VPC and vice versa.
- Route tables must be updated.
<br>

### Bastion Hosts
- Private EC2 instances in private subnets are a good security measure, but they canâ€™t be accessed directly from the internet for admin/management access.
- A Bastion Host is an EC2 instance in a public subnet that acts as an entry point to the private instances without exposing them to the internet.
<br>

### NAT Gateways
- Allows instances in a private subnet to access the internet whilst blocking incoming internet access.
- Specific to a single AZ and uses an elastic IP.
- Requires an IGW.

- Can not be used by instances in the same subnet - the NAT Gateway must be in a public subnet and the instances must be in a different (private) subnet.

#### Achieve High Availability with NAT Gateways:
- Using a single NAT Gateway creates a single point of failure across AZs.

To achieve HA:
- Create one NAT Gateway per AZ.
- Each private subnet routes to the NAT Gateway in its AZ.
